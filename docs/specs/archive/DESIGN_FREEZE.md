设计冻结说明（v1）

1. 文档目的

本文件用于冻结 OpsKit v1 的设计边界，防止在实现阶段发生范围膨胀和结构性返工。

⸻

2. OpsKit v1 目标

OpsKit v1 的目标是：
	•	提供 单二进制 运维工具 opskit
	•	提供 单命令部署 能力：opskit install
	•	在 离线 / 内网 / 信创环境 下工作
	•	通过 静态页面 + JSON 状态文件 展示运维状态
	•	覆盖服务器 A~F 全生命周期
	•	支持以下两类模板：
	•	单服务（Deploy 模式）
	•	单产品（Manage 模式）

⸻

3. v1 必做功能（范围内）

生命周期阶段
	•	A Preflight：环境检查（不默认修复）
	•	B Baseline：目录 / 用户 / 权限初始化
	•	C Deploy：
	•	Deploy 模式：离线包安装、配置渲染、systemd 注册
	•	Manage 模式：用途声明与接管说明
	•	D Operate：巡检（systemd / 端口 / 资源）
	•	E Recover：开机恢复 + 异常恢复（有限重试 + 熔断）
	•	F Accept / Handover：验收证据包 + 交付汇总

页面能力
	•	总体状态（绿 / 黄 / 红）
	•	A~F 阶段卡片
	•	服务状态列表
	•	报告 / 证据包下载入口

⸻

4. v1 明确不做的功能（冻结）
	•	❌ 多节点集群管理
	•	❌ 分布式协调（raft / zk / etcd）
	•	❌ 自动执行漏洞修复
	•	❌ 前后端分离 Web 平台
	•	❌ 权限体系 / 登录系统
	•	❌ 复杂日志解析与根因分析

⸻

5. 版本演进原则
	•	允许 新增字段 / 新模板
	•	禁止 修改已有字段语义
	•	禁止 推翻 A~F 生命周期模型
