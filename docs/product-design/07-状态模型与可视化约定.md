# 07 状态模型与可视化约定

## 7.1 设计原则

- UI 只读 JSON，不做业务计算
- JSON 作为内部 API，字段只增不破
- 时间统一 ISO8601

## 7.2 状态文件（v1）

- `overall.json`：全局状态、模板、刷新时间、recover 摘要
- `lifecycle.json`：A~F 阶段状态、指标、问题、报告引用
- `services.json`：服务/组件健康明细
- `artifacts.json`：报告与 bundle 索引

## 7.3 枚举与语义

- Status：`NOT_STARTED/RUNNING/PASSED/WARN/FAILED/SKIPPED`
- Severity：`info/warn/fail`
- Overall：`HEALTHY/DEGRADED/UNHEALTHY`（或实现中的等价值）

## 7.4 报告与证据命名

- 报告：`<stage>-<timestamp>.html`（可带 template/service 标识）
- 证据包：`acceptance-<date>.tar.gz`、`collect-<stage>-<timestamp>.tar.gz`
- 所有产物应可由 `artifacts.json` 追踪

## 7.5 页面约束

- 必须可展示 A~F 卡片、总体状态、问题摘要
- 必须可点击报告与 bundle
- 状态刷新必须反映 JSON 变化，不依赖缓存推导
